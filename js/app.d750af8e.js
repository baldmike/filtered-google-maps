(function(t){function e(e){for(var r,s,a=e[0],o=e[1],u=e[2],f=0,p=[];f<a.length;f++)s=a[f],n[s]&&p.push(n[s][0]),n[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);c&&c(e);while(p.length)p.shift()();return l.push.apply(l,u||[]),i()}function i(){for(var t,e=0;e<l.length;e++){for(var i=l[e],r=!0,a=1;a<i.length;a++){var o=i[a];0!==n[o]&&(r=!1)}r&&(l.splice(e--,1),t=s(s.s=i[0]))}return t}var r={},n={app:0},l=[];function s(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=r,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/filtered-google-maps/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=o;l.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var r=i("64a9"),n=i.n(r);n.a},"110c":function(t,e,i){},"393a":function(t,e,i){"use strict";var r=i("110c"),n=i.n(r);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var r=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid",attrs:{id:"app"}},[i("b-row",[i("b-col",{attrs:{cols:"4",offset:"4"}},[i("input-component")],1),i("b-col",{attrs:{cols:"12"}},[i("map-component")],1)],1)],1)},l=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("b-form-file",{attrs:{state:Boolean(t.$store.state.file),placeholder:"Select CSV file"},on:{change:t.onFileChange}}),i("b-row",{staticClass:"instructions"},[i("b-col",[i("p",[t._v("Select any .csv file with 'Latitude' and 'Longitude'")])])],1)],1)},a=[],o=(i("ac6a"),i("369b")),u=i.n(o),c={name:"input-component",data:function(){return{}},methods:{onFileChange:function(){var t=this,e=event.target.files[0],i=new FileReader;i.onload=function(e){u.a.parse(e.target.result,{header:!0,complete:function(e){var i=new Array;e.data.forEach(function(t){var e=parseFloat(t["Latitude"]),r=parseFloat(t["Longitude"]),n={position:{lat:e,lng:r},data:t};i.push(n)}),t.$store.dispatch("setFile",i)},error:function(t){console.log("error",t)}})},i.readAsText(e)}}},f=c,p=i("2877"),m=Object(p["a"])(f,s,a,!1,null,"1d0b1594",null),d=m.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid",attrs:{id:"app"}},[i("b-row",[i("b-col",{staticClass:"sidebar",attrs:{cols:"6"}},[i("br"),t.$store.state.file?i("b-row",[i("b-col",{attrs:{cols:"4"}},[i("h6",[t._v("Estimated Market Value")])]),i("b-col",{attrs:{cols:"4"}},[i("b-input-group",{attrs:{size:"md",prepend:"Min $"}},[i("b-form-input",{model:{value:t.filters.minimumValue,callback:function(e){t.$set(t.filters,"minimumValue",e)},expression:"filters.minimumValue"}})],1)],1),i("b-col",{attrs:{cols:"4"}},[i("b-input-group",{attrs:{size:"md",prepend:"Max $"}},[i("b-form-input",{model:{value:t.filters.maximumValue,callback:function(e){t.$set(t.filters,"maximumValue",e)},expression:"filters.maximumValue"}})],1)],1)],1):t._e(),i("br"),t.$store.state.file?i("b-row",[i("b-col",{attrs:{cols:"4"}},[i("h6",[t._v("Current Land Value")])]),i("b-col",{attrs:{cols:"4"}},[i("b-input-group",{attrs:{size:"md",prepend:"Min $"}},[i("b-form-input",{model:{value:t.filters.minimumCurrentLandValue,callback:function(e){t.$set(t.filters,"minimumCurrentLandValue",e)},expression:"filters.minimumCurrentLandValue"}})],1)],1),i("b-col",{attrs:{cols:"4"}},[i("b-input-group",{attrs:{size:"md",prepend:"Max $"}},[i("b-form-input",{model:{value:t.filters.maximumCurrentLandValue,callback:function(e){t.$set(t.filters,"maximumCurrentLandValue",e)},expression:"filters.maximumCurrentLandValue"}})],1)],1)],1):t._e(),i("br"),t.$store.state.file?i("b-row",[i("b-col",{attrs:{cols:"4"}},[i("h6",[t._v("Current Building Value")])]),i("b-col",{attrs:{cols:"4"}},[i("b-input-group",{attrs:{size:"md",prepend:"Min $"}},[i("b-form-input",{model:{value:t.filters.minimumCurrentBuildingValue,callback:function(e){t.$set(t.filters,"minimumCurrentBuildingValue",e)},expression:"filters.minimumCurrentBuildingValue"}})],1)],1),i("b-col",{attrs:{cols:"4"}},[i("b-input-group",{attrs:{size:"md",prepend:"Max $"}},[i("b-form-input",{model:{value:t.filters.maximumCurrentBuildingValue,callback:function(e){t.$set(t.filters,"maximumCurrentBuildingValue",e)},expression:"filters.maximumCurrentBuildingValue"}})],1)],1)],1):t._e(),i("br"),t.$store.state.file?i("b-row",[i("b-col",{attrs:{cols:"4"}},[i("h6",[t._v("Current Total Value")])]),i("b-col",{attrs:{cols:"4"}},[i("b-input-group",{attrs:{size:"md",prepend:"Min $"}},[i("b-form-input",{model:{value:t.filters.minimumCurrentTotalValue,callback:function(e){t.$set(t.filters,"minimumCurrentTotalValue",e)},expression:"filters.minimumCurrentTotalValue"}})],1)],1),i("b-col",{attrs:{cols:"4"}},[i("b-input-group",{attrs:{size:"md",prepend:"Max $"}},[i("b-form-input",{model:{value:t.filters.maximumCurrentLandTotalValue,callback:function(e){t.$set(t.filters,"maximumCurrentLandTotalValue",e)},expression:"filters.maximumCurrentLandTotalValue"}})],1)],1)],1):t._e(),i("br"),t.$store.state.file?i("b-row",[i("b-col",{attrs:{cols:"6"}},[i("b-form-select",{staticClass:"sidebar",attrs:{options:t.zip},model:{value:t.filters.Zip,callback:function(e){t.$set(t.filters,"Zip",e)},expression:"filters.Zip"}},[i("option",{attrs:{value:"null",selected:""}},[t._v("Zip Code")])])],1),i("b-col",{attrs:{cols:"6"}},[i("b-form-select",{staticClass:"sidebar",attrs:{options:t.ovacls},model:{value:t.filters.OVACLS,callback:function(e){t.$set(t.filters,"OVACLS",e)},expression:"filters.OVACLS"}},[i("option",{attrs:{value:"null",selected:""}},[t._v("OVACLS")])])],1)],1):t._e(),t.$store.state.file?i("b-row",[i("b-col",[i("b-form-select",{staticClass:"sidebar",attrs:{options:t.class_description},model:{value:t.filters.CLASS_DESCRIPTION,callback:function(e){t.$set(t.filters,"CLASS_DESCRIPTION",e)},expression:"filters.CLASS_DESCRIPTION"}},[i("option",{attrs:{value:"null",selected:""}},[t._v("Class Description")])])],1)],1):t._e(),t.$store.state.file?i("b-row",[i("b-col",[i("b-form-select",{staticClass:"sidebar",attrs:{options:t.res_type},model:{value:t.filters.RES_TYPE,callback:function(e){t.$set(t.filters,"RES_TYPE",e)},expression:"filters.RES_TYPE"}},[i("option",{attrs:{value:"null",selected:""}},[t._v("Res Type")])])],1),i("b-col",[i("b-form-select",{staticClass:"sidebar",attrs:{options:t.neighborhood},model:{value:t.filters.NEIGHBORHOOD,callback:function(e){t.$set(t.filters,"NEIGHBORHOOD",e)},expression:"filters.NEIGHBORHOOD"}},[i("option",{attrs:{value:"null",selected:""}},[t._v("Neighborhood")])])],1)],1):t._e(),i("br"),i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("H6",[t._v("NUMBER OF MATCHES: "+t._s(t.numberOfResults))])],1),i("br"),i("b-col",{attrs:{cols:"12"}},[i("b-button",{attrs:{type:"danger"},on:{click:t.clearFilters}},[t._v("Clear Filters")])],1)],1)],1),i("b-col",{attrs:{cols:"6"}},[i("GmapMap",{staticStyle:{width:"100%",height:"80vh"},attrs:{center:{lat:41.9,lng:-87.7},zoom:11,"map-type-id":"terrain"}},[i("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoPosition,opened:t.infoOpened},on:{closeclick:function(e){t.infoOpened=!1}}},[t._v("\n                        "+t._s(t.infoContent)+"\n                        ")]),t._l(t.filteredMarkers,function(e,r){return i("GmapMarker",{key:r,attrs:{position:e.position,icon:t.icon(e),clickable:!0,draggable:!0},on:{click:function(i){return t.toggleInfo(e,r)}}})})],2)],1)],1)],1)},b=[],C=(i("a481"),i("755e")),g=i("2f62"),_=(i("b383"),{name:"app",data:function(){return{infoPosition:null,infoContent:null,infoOpened:!1,infoCurrentKey:null,infoOptions:{pixelOffset:{width:0,height:-35}},filteredResults:null,clear:!1,filters:{Zip:null,OVACLS:null,CLASS_DESCRIPTION:null,RES_TYPE:null,NEIGHBORHOOD:null,minimumValue:null,maximumValue:null,minimumCurrentLandValue:null,maximumCurrentLandValue:null,minimumCurrentBuildingValue:null,maximumCurrentBuildingValue:null},applyFilters:!1}},methods:{getPosition:function(t){return console.log("THE MARKER: "+t),{lat:parseFloat(t.lat),lng:parseFloat(t.lng)}},toggleInfo:function(t,e){this.theM=t,this.infoPosition=this.getPosition(t.position),this.infoContent=t.data["ESTIMATED_MARKET_VALUE"],this.infoCurrentKey==e?this.infoOpened=!this.infoOpened:(this.infoOpened=!0,this.infoCurrentKey=e)},clearFilters:function(){this.clear=!0,this.filters.Zip=null,this.filters.OVACLS=null,this.filters.CLASS_DESCRIPTION=null,this.filters.RES_TYPE=null,this.filters.NEIGHBORHOOD=null,this.minimumValue=null,this.maximumValue=null,this.minimumCurrentLandValue=null,this.maximumCurrentLandValue=null},icon:function(t){var e=t.data["ESTIMATED_MARKET_VALUE"];return parseInt(e)<400?"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=o|00FF00|000000":parseInt(e)<500?"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=o|FF4900|000000":parseInt(e)<600?"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=o|FFA200|000000":parseInt(e)<700?"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=o|FFE400|000000":parseInt(e)<800?"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=o|C9FF00|000000":parseInt(e)<900?"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=o|93FF00|000000":"http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=o|FF0000|000000"}},computed:{filteredMarkers:function(){var t=this;return this.applyFilters||(this.filteredResults=this.$store.state.file),this.filters.Zip&&(this.filteredResults=this.$store.state.file.filter(function(e){return e.data["Zip"]==t.filters.Zip})),this.filters.OVACLS&&(this.filteredResults=this.filteredResults.filter(function(e){return e.data["OVACLS"]==t.filters.OVACLS})),this.filters.CLASS_DESCRIPTION&&(this.filteredResults=this.filteredResults.filter(function(e){return e.data["CLASS_DESCRIPTION"]==t.filters.CLASS_DESCRIPTION})),this.filters.RES_TYPE&&(this.filteredResults=this.filteredResults.filter(function(e){return e.data["RES_TYPE"]==t.filters.RES_TYPE})),this.filters.NEIGHBORHOOD&&(this.filteredResults=this.filteredResults.filter(function(e){return e.data["NEIGHBORHOOD"]==t.filters.NEIGHBORHOOD})),this.filters.minimumValue&&(this.filteredResults=this.filteredResults.filter(function(e){return parseInt(e.data["ESTIMATED_MARKET_VALUE"].replace(/,/g,""))>=t.filters.minimumValue})),this.filters.maximumValue&&(this.filteredResults=this.$store.state.file.filter(function(e){return parseInt(e.data["ESTIMATED_MARKET_VALUE"].replace(/,/g,""))<=t.filters.maximumValue})),this.filters.minimumCurrentLandValue&&(this.filteredResults=this.filteredResults.filter(function(e){return parseInt(e.data["CURRENT_LAND"].replace(/,/g,""))>=t.filters.minimumCurrentLandValue})),this.filters.maximumCurrentLandValue&&(this.filteredResults=this.$store.state.file.filter(function(e){return parseInt(e.data["CURRENT_LAND"].replace(/,/g,""))<=t.filters.maximumCurrentLandValue})),this.filters.minimumCurrentBuildingValue&&(this.filteredResults=this.filteredResults.filter(function(e){return parseInt(e.data["CURRENT_BUILDING"].replace(/,/g,""))>=t.filters.minimumCurrentBuildingValue})),this.filters.maximumCurrentBuildingValue&&(this.filteredResults=this.$store.state.file.filter(function(e){return parseInt(e.data["CURRENT_BUILDING"].replace(/,/g,""))<=t.filters.maximumCurrentBuildingValue})),console.log("INSIDE FILTERED MARKERS COMPUTED PROPERTY"),console.log(this.filteredResults),this.filteredResults},numberOfResults:function(){return this.filteredResults?this.filteredResults.length:0},google:C["gmapApi"],zip:function(){var t=this.$store.state.file,e=new Array;return t.forEach(function(t){var i=parseInt(t["data"]["Zip"],10);-1===e.indexOf(i)&&e.push(i)}),e},ovacls:function(){var t=this.$store.state.file,e=new Array;return t.forEach(function(t){var i=parseInt(t["data"]["OVACLS"],10);-1===e.indexOf(i)&&e.push(i)}),e},class_description:function(){var t=this.$store.state.file,e=new Array;return t.forEach(function(t){var i=t["data"]["CLASS_DESCRIPTION"];-1===e.indexOf(i)&&e.push(i)}),e},res_type:function(){var t=this.$store.state.file,e=new Array;return t.forEach(function(t){var i=t["data"]["RES_TYPE"];i&&-1===e.indexOf(i)&&e.push(i)}),e},neighborhood:function(){var t=this.$store.state.file,e=new Array;return t.forEach(function(t){var i=t["data"]["NEIGHBORHOOD"];-1===e.indexOf(i)&&e.push(i)}),e}},created:function(){},mounted:function(){console.log("production")}}),v=_,E=(i("393a"),Object(p["a"])(v,h,b,!1,null,null,null)),O=E.exports,R={name:"app",components:{InputComponent:d,MapComponent:O},data:function(){return{}},mounted:function(){console.log("production")}},S=R,V=(i("034f"),Object(p["a"])(S,n,l,!1,null,null,null)),x=V.exports,I=i("5f5b");i("f9e3"),i("2dd8");r["default"].use(g["a"]);var T=new g["a"].Store({state:function(){return{file:null}},getters:{dataFile:function(t){return t.file}},mutations:{setFile:function(t,e){t.file=e}},actions:{setFile:function(t,e){t.commit("setFile",e)}}}),L=i("82e1"),A=i("ae66"),$=i.n(A);r["default"].use(C,{load:{region:"US",language:"en",key:"AIzaSyByNrtjh_Nl0Cyi8TiWnb-9Gw5ZaapgomY"},installComponents:!0}),r["default"].use(I["a"]),r["default"].config.productionTip=!1,r["default"].component("GmapMarker",L["GmapMarker"]),r["default"].component("GmapCluster",$.a),new r["default"]({render:function(t){return t(x)},store:T}).$mount("#app")},"64a9":function(t,e,i){}});
//# sourceMappingURL=app.d750af8e.js.map